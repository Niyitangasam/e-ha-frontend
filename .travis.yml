language: node_js

node_js: '12.10.0'
addons:
    chrome: beta
    apt:
      packages:
        # Ubuntu 16+ does not install this dependency by default, so we need to install it ourselves
        - libgconf-2-4
  
  cache:
    directories:
      - node_modules
      - ~/.cache
  
  install:
    - yarn install
    - yarn ci
  
  before_script:
    - yarn start --silent &
  
  script:
    - yarn run test:coverage